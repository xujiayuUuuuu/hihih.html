<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

        <div class="scroll-bg"></div>
    
        <header class="nav">
            <div class="nav-marquee">
                <div class="marquee-track">
                    <span>HOME</span><span>WORKS</span><span>HSU JIAYU</span><span>ABOUT ME</span><span>UI / UX DESIGNER</span>
                    <span>HOME</span><span>WORKS</span><span>HSU JIAYU</span><span>ABOUT ME</span><span>UI / UX DESIGNER</span>
                </div>
            </div>
        </header>
    
        <section class="hero">
            <h1 class="hero-title">HSU JIAYU <br>PORTFOLIO</h1>
            <div class="hero-ghost-text">
                <span class="ghost g1">UI / UX DESIGNER</span>
                <span class="ghost g2">CREATING<br>MEANINGFUL</span>
                <span class="ghost g3">DIGITAL<br>EXPERIENCE</span>
                <span class="ghost g4">VISUAL</span>
                <span class="ghost g5">STORYTELLING</span>
            </div>
            <div class="scroll-arrow">
                <span class="line"></span>
                <span class="arrow-head"></span>
            </div>
        </section>
    
        <section class="stack-section">
            <div class="stack-pin">
                <div class="stack-layout">
                    <div class="stack-text">
                        <div class="section-deco">
                            <span class="deco-left">SELECTED WORKS / 01</span>
                            <span class="deco-right">DESIGNED BY HSU JIAYU</span>
                        </div>
                        <h2>Selected Works</h2>
                        <p>These works explore interaction,<br>perception and visual narrative.</p>
                    </div>
    
                    <div class="stack-stage">
                        <div class="stack-item">
                            <img src="images/mochi1.png" alt="Mochi Project 1">
                            <a href="https://xujiayuuuuuu.github.io/mochi.html/" class="stack-link-btn">VISIT SITE ↗</a>
                        </div>
                        <div class="stack-item">
                            <img src="images/mochi2.png" alt="Mochi Project 2">
                            <a href="https://xujiayuuuuuu.github.io/mochi.html/" class="stack-link-btn">VISIT SITE ↗</a>
                        </div>
                        <div class="stack-item">
                            <img src="images/music1.png" alt="Music Project 1">
                            <a href="https://xujiayuuuuuu.github.io/music/" class="stack-link-btn">VISIT SITE ↗</a>
                        </div>
                        <div class="stack-item">
                            <img src="images/music2.png" alt="Music Project 2">
                            <a href="https://xujiayuuuuuu.github.io/music/" class="stack-link-btn">VISIT SITE ↗</a>
                        </div>
                    </div>
                </div>
            </div>
        </section> 
        <section class="scroll-gap"></section>
    
        <section class="process-section">
            <div class="section-deco">
                <span class="deco-left">INTERACTIVE FLOW / 02</span>
                <span class="deco-right">STEP BY STEP EXPERIENCE</span>
            </div>
    
            <div class="process-sticky-wrapper">
                <div class="process-header">
                    <h2>Interactive Web<br>Experience Flow</h2>
                    <p>
                        This project is designed as a playable interactive installation.<br>
                        Users do not simply browse the website — they experience it step by step.
                    </p>
                    <a href="https://xujiayuuuuuu.github.io/goodmodel/" class="process-link">
                        Enter the Interactive Experience →
                    </a>
                </div>
    
                <div class="process-map">
                    <div class="step"><img src="images/good1.png"><span>STEP 01 / INTRODUCTION</span></div>
                    <div class="step"><img src="images/good8.png"><span>STEP 02 / CAMERA DETECTION</span></div>
                    <div class="step"><img src="images/good3.png"><span>STEP 03 / EVALUATION</span></div>
                    <div class="step"><img src="images/good2.png"><span>STEP 04 / GESTURE</span></div>
                    <div class="step"><img src="images/good4.png"><span>STEP 05 / PROGRAM</span></div>
                    <div class="step"><img src="images/good5.png"><span>STEP 06 / VISUAL FILTER</span></div>
                    <div class="step"><img src="images/good6.png"><span>STEP 07 / TEXT OVERLAY</span></div>
                    <div class="step"><img src="images/good7.png"><span>STEP 08 / REPRESENTATION</span></div>
                </div>
            </div>
        </section>
    
        <section class="magazine-section">
            <div class="bg-text">About Me</div>
            <div class="top-deco">[ EXPERTISE & SKILLS ]</div>
    
            <div class="magazine-content-wrapper">
                <div class="mag-row">
                    <div class="card photo-card polaroid-1 left-card">
                        <img src="images/me.png" alt="Profile">
                        <span class="caption">@HSU JIAYU</span>
                    </div>
                    <div class="card text-card dark-box right-card">
                        <h3>WHO I AM?</h3>
                        <p>我是一名從平面設計起步的創作者。我喜歡將靜態的美學轉化為動態的網頁體驗，透過視覺設計與程式碼的結合，賦予數位作品更多生命力。</p>
                    </div>
                </div>
    
                <div class="mag-row">
                    <div class="card text-card dark-box left-card">
                        <h3>MY JOURNEY</h3>
                        <p>目前已自主獨立開發 4 個具備 RWD 響應式的網頁專案。我擅長使用 Figma 進行介面規劃，並精確地透過 HTML、CSS、JS 與切版技術將設計完美還原。</p>
                    </div>
                    <div class="card photo-card polaroid-2 right-card">
                        <img src="images/me2.png" alt="Profile">
                        <span class="caption">@HSU JIAYU</span>
                    </div>
                </div>
            </div>
    
            <div class="bottom-deco">
                <span>SKILLS: FIGMA, HTML CSS JS ,AE PS AI</span>
                <span class="handle">@HSU JIAYU</span>
            </div>
        </section>
    
  

    <div class="about-case-spacer" style="height: 100vh;"></div>
    
    
    
        <section class="case-study-section">
            <div class="sticky-content-wrapper">
                <div class="case-study-text-content">
                    <h2 class="case-study-title">FoodieFriend</h2>
                    <p class="case-study-intro">
                        這是一個以「食物」為主題的交友 App 介面設計專案，旨在透過共同的美食愛好建立用戶連結。全程使用 Figma 進行。
                    </p>
                    <div class="case-study-details">
                        <div class="detail-item">
                            <h4>設計理念</h4>
                            <p>將美食與社交結合，創造輕鬆愉快的互動模式。</p>
                        </div>
                        <div class="detail-item">
                            <h4>專案目標</h4>
                            <p>展示 Figma 的流程邏輯與組件運用能力。</p>
                        </div>
                    </div>
                    <a href="https://www.figma.com/proto/KUOzOml9VavGmJqYlLVQWa/%E9%A3%9F%E9%81%87APP_final?node-id=0-1&t=cR4eLuKmOZUlEJxE-0&scaling=scale-down&content-scaling=fixed&page-id=0%3A1&starting-point-node-id=3001%3A146
                    " target="_blank" class="view-project-btn">查看 Figma 專案 →</a>
                </div>
    
                <div class="case-study-image-gallery">
                    <img src="images/foodie1.png" class="gallery-image active">
                    <img src="images/foodie2.png" class="gallery-image">
                    <img src="images/foodie3.png" class="gallery-image">
                    <img src="images/foodie4.png" class="gallery-image">
                </div>
            </div>
            <div class="scroll-trigger-space"></div>
        </section>
    
        <footer class="final-footer">
            <div class="footer-content">
                <h2 class="footer-title">GET IN TOUCH</h2>
                <div class="footer-links">
                    <a href="mailto:grace6091018@gmail.com">EMAIL</a>
                    <a href="#">INSTAGRAM</a>
                    <a href="#">LINKEDIN</a>
                </div>
                <p class="copyright">© 2026 HSU JIAYU. ALL RIGHTS RESERVED.</p>
            </div>
        </footer>
    
        <div class="cursor-smoke">
            <span></span><span></span><span></span><span></span><span></span>
        </div>
    
       

  <script>
/* =====================================================
   1. 元素抓取與狀態初始化
===================================================== */
const bg = document.querySelector(".scroll-bg");
const smoke = document.querySelector(".cursor-smoke");
const dots = smoke ? smoke.querySelectorAll("span") : [];

const stackSection = document.querySelector(".stack-section");
const stackItems = document.querySelectorAll(".stack-item");

const processSection = document.querySelector(".process-section");
const steps = document.querySelectorAll(".step");

const magazineSection = document.querySelector(".magazine-section");

const caseStudySection = document.querySelector(".case-study-section");
const galleryImages = document.querySelectorAll(".gallery-image");

/* =====================================================
   2. 煙霧鼠標動畫 (全網頁不間斷運作)
===================================================== */
let mouseX = window.innerWidth / 2, mouseY = window.innerHeight / 2;
let positions = Array.from(dots).map(() => ({ x: mouseX, y: mouseY }));

document.addEventListener("mousemove", (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
});

function animateSmoke() {
    if (dots.length > 0) {
        positions[0].x += (mouseX - positions[0].x) * 0.2;
        positions[0].y += (mouseY - positions[0].y) * 0.2;
        for (let i = 1; i < positions.length; i++) {
            positions[i].x += (positions[i - 1].x - positions[i].x) * 0.18;
            positions[i].y += (positions[i - 1].y - positions[i].y) * 0.18;
        }
        dots.forEach((dot, i) => {
            dot.style.left = positions[i].x + "px";
            dot.style.top = positions[i].y + "px";
        });
    }
    requestAnimationFrame(animateSmoke);
}
animateSmoke();

/* =====================================================
   3. 滾動控制邏輯 (核心修正：強制顯示機制)
===================================================== */
function handleScroll() {
    const scrollY = window.scrollY;
    const windowH = window.innerHeight;

    // --- A. 系列作品 (Selected Works 4張) ---
    if (stackSection && stackItems.length > 0) {
        const rect = stackSection.getBoundingClientRect();
        // 只要區塊出現在視窗內 (包含還沒滑到頂部時)
        if (rect.top < windowH && rect.bottom > 0) {
            const scrollRange = stackSection.offsetHeight - windowH;
            // 計算進度：只有當頂部滑過 0 時才開始計算進度，否則預設為 0 (顯示第一張)
            const progress = rect.top <= 0 ? Math.min(Math.max(Math.abs(rect.top) / scrollRange, 0), 1) : 0;
            const currentIndex = Math.min(Math.floor(progress * stackItems.length), stackItems.length - 1);

            stackItems.forEach((item, index) => {
                if (index <= currentIndex) {
                    item.classList.add("active");
                    item.style.opacity = "1"; // 強制顯示
                    item.style.visibility = "visible";
                } else {
                    item.classList.remove("active");
                    item.style.opacity = "0";
                    item.style.visibility = "hidden";
                }
            });
            // 煙霧預設白色
            if (smoke) { smoke.classList.add("white"); smoke.classList.remove("black"); }
        }
    }

   /* --- 專門處理 8 張流程圖 (Process Section) --- */
const processSection = document.querySelector(".process-section");
const steps = document.querySelectorAll(".step");

function handleProcessScroll() {
    if (!processSection || steps.length === 0) return;

    const rect = processSection.getBoundingClientRect();
    const windowH = window.innerHeight;

    // 只要區塊出現在視窗中
    if (rect.top < windowH && rect.bottom > 0) {
        // 1. 啟動區塊 active 狀態
        processSection.classList.add("active");

        // 2. 計算滾動進度
        const totalScrollable = processSection.offsetHeight - windowH;
        // 如果還沒滑到頂部進度為 0，滑過頂部後開始計算
        const progress = rect.top <= 0 ? Math.min(Math.max(Math.abs(rect.top) / totalScrollable, 0), 1) : 0;
        
        // 3. 算出現在該顯示第幾張 (0 到 7)
        const currentIndex = Math.min(Math.floor(progress * steps.length), steps.length - 1);

        // 4. 強制切換顯示
        steps.forEach((step, index) => {
            if (index === currentIndex) {
                step.classList.add("active");
                step.style.opacity = "1";         // 強制不透明
                step.style.visibility = "visible"; // 強制可見
            } else {
                step.classList.remove("active");
                step.style.opacity = "0";
                step.style.visibility = "hidden";
            }
        });
    }
}

// 記得在 window 的 scroll 事件裡呼叫它
window.addEventListener("scroll", handleProcessScroll);
window.addEventListener("load", handleProcessScroll);

    // --- C. 自我介紹 (Magazine Section) ---
    if (magazineSection) {
        const rect = magazineSection.getBoundingClientRect();
        // 只要進入視窗 80% 處就觸發動畫，且直到完全滑出前都不消失
        if (rect.top < windowH * 0.8 && rect.bottom > 0) {
            magazineSection.classList.add("active");
            if (bg) bg.style.backgroundColor = "#e0e0e0"; 
            if (smoke) { smoke.classList.add("black"); smoke.classList.remove("white"); }
        } else if (rect.top >= windowH) {
            // 只有往回滑到頂部時才重置動畫
            magazineSection.classList.remove("active");
        }
    }

    // --- D. 作品案例 (Case Study 延遲緩衝) ---
    if (caseStudySection && galleryImages.length > 0) {
        const rect = caseStudySection.getBoundingClientRect();
        const buffer = 400; // 緩衝像素：讓 About Me 多留一會

        if (rect.top <= -buffer && rect.bottom > 0) { 
            caseStudySection.classList.add("active");
            const scrollRange = caseStudySection.offsetHeight - windowH;
            const progress = Math.min(Math.max((Math.abs(rect.top) - buffer) / (scrollRange - buffer), 0), 1);
            const currentIndex = Math.min(Math.floor(progress * galleryImages.length), galleryImages.length - 1);

            galleryImages.forEach((img, index) => {
                if (index === currentIndex) {
                    img.classList.add("active");
                    img.style.opacity = "1";
                } else {
                    img.classList.remove("active");
                    img.style.opacity = "0";
                }
            });

            if (bg) bg.style.backgroundColor = "#000";
            if (smoke) { smoke.classList.add("white"); smoke.classList.remove("black"); }
        } else if (rect.top > -buffer && rect.top < windowH) {
            // 在延遲區域內，強制保持 About Me 的淺色背景
            if (bg) bg.style.backgroundColor = "#e0e0e0";
            if (smoke) { smoke.classList.add("black"); smoke.classList.remove("white"); }
            caseStudySection.classList.remove("active");
        }
    }
}

/* =====================================================
   4. 事件綁定
===================================================== */
window.addEventListener("scroll", handleScroll);
window.addEventListener("load", handleScroll);
window.addEventListener("resize", handleScroll);

// 防止返回頁面時煙霧消失
window.addEventListener("pageshow", () => {
    handleScroll();
});
   </script>
    
    
</body>

</html>
